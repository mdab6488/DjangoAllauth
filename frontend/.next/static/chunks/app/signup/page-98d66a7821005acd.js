(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{2815:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var n=t(5155);t(2115);let a=()=>(0,n.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-4 border-blue-500 border-opacity-75"})})},4713:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>J});var n=t(5155),a=t(2115),o=t(5695),i=t(2177),s=t(5892),l=t(8893),c=t(5358),u=t(4934),d=t(3495),p=t(9630),m=t(2596),f=t(8781),h=t(5926),x=t(5386),g=t(5881),v=t(7892),b=t(3746);let w=a.createContext();var A=t(7692),y=t(1112);function k(e){return(0,y.Ay)("MuiGrid",e)}let S=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],j=(0,A.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>"spacing-xs-".concat(e)),...["column-reverse","column","row-reverse","row"].map(e=>"direction-xs-".concat(e)),...["nowrap","wrap-reverse","wrap"].map(e=>"wrap-xs-".concat(e)),...S.map(e=>"grid-xs-".concat(e)),...S.map(e=>"grid-sm-".concat(e)),...S.map(e=>"grid-md-".concat(e)),...S.map(e=>"grid-lg-".concat(e)),...S.map(e=>"grid-xl-".concat(e))]),N=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function W(e){let r=parseFloat(e);return"".concat(r).concat(String(e).replace(String(r),"")||"px")}function E(e){let{breakpoints:r,values:t}=e,n="";Object.keys(t).forEach(e=>{""===n&&0!==t[e]&&(n=e)});let a=Object.keys(r).sort((e,t)=>r[e]-r[t]);return a.slice(0,a.indexOf(n))}let C=(0,g.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e,{container:n,direction:a,item:o,spacing:i,wrap:s,zeroMinWidth:l,breakpoints:c}=t,u=[];n&&(u=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[t["spacing-xs-".concat(String(e))]];let n=[];return r.forEach(r=>{let a=e[r];Number(a)>0&&n.push(t["spacing-".concat(r,"-").concat(String(a))])}),n}(i,c,r));let d=[];return c.forEach(e=>{let n=t[e];n&&d.push(r["grid-".concat(e,"-").concat(String(n))])}),[r.root,n&&r.container,o&&r.item,l&&r.zeroMinWidth,...u,"row"!==a&&r["direction-xs-".concat(String(a))],"wrap"!==s&&r["wrap-xs-".concat(String(s))],...d]}})(e=>{let{ownerState:r}=e;return(0,p.A)({boxSizing:"border-box"},r.container&&{display:"flex",flexWrap:"wrap",width:"100%"},r.item&&{margin:0},r.zeroMinWidth&&{minWidth:0},"wrap"!==r.wrap&&{flexWrap:r.wrap})},function(e){let{theme:r,ownerState:t}=e,n=(0,f.kW)({values:t.direction,breakpoints:r.breakpoints.values});return(0,f.NI)({theme:r},n,e=>{let r={flexDirection:e};return 0===e.indexOf("column")&&(r["& > .".concat(j.item)]={maxWidth:"none"}),r})},function(e){let{theme:r,ownerState:t}=e,{container:n,rowSpacing:a}=t,o={};if(n&&0!==a){let e;let t=(0,f.kW)({values:a,breakpoints:r.breakpoints.values});"object"==typeof t&&(e=E({breakpoints:r.breakpoints.values,values:t})),o=(0,f.NI)({theme:r},t,(t,n)=>{var a;let o=r.spacing(t);return"0px"!==o?{marginTop:"-".concat(W(o)),["& > .".concat(j.item)]:{paddingTop:W(o)}}:null!=(a=e)&&a.includes(n)?{}:{marginTop:0,["& > .".concat(j.item)]:{paddingTop:0}}})}return o},function(e){let{theme:r,ownerState:t}=e,{container:n,columnSpacing:a}=t,o={};if(n&&0!==a){let e;let t=(0,f.kW)({values:a,breakpoints:r.breakpoints.values});"object"==typeof t&&(e=E({breakpoints:r.breakpoints.values,values:t})),o=(0,f.NI)({theme:r},t,(t,n)=>{var a;let o=r.spacing(t);return"0px"!==o?{width:"calc(100% + ".concat(W(o),")"),marginLeft:"-".concat(W(o)),["& > .".concat(j.item)]:{paddingLeft:W(o)}}:null!=(a=e)&&a.includes(n)?{}:{width:"100%",marginLeft:0,["& > .".concat(j.item)]:{paddingLeft:0}}})}return o},function(e){let r,{theme:t,ownerState:n}=e;return t.breakpoints.keys.reduce((e,a)=>{let o={};if(n[a]&&(r=n[a]),!r)return e;if(!0===r)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===r)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{let i=(0,f.kW)({values:n.columns,breakpoints:t.breakpoints.values}),s="object"==typeof i?i[a]:i;if(null==s)return e;let l="".concat(Math.round(r/s*1e8)/1e6,"%"),c={};if(n.container&&n.item&&0!==n.columnSpacing){let e=t.spacing(n.columnSpacing);if("0px"!==e){let r="calc(".concat(l," + ").concat(W(e),")");c={flexBasis:r,maxWidth:r}}}o=(0,p.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===t.breakpoints.values[a]?Object.assign(e,o):e[t.breakpoints.up(a)]=o,e},{})}),M=e=>{let{classes:r,container:t,direction:n,item:a,spacing:o,wrap:i,zeroMinWidth:s,breakpoints:l}=e,c=[];t&&(c=function(e,r){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return["spacing-xs-".concat(String(e))];let t=[];return r.forEach(r=>{let n=e[r];if(Number(n)>0){let e="spacing-".concat(r,"-").concat(String(n));t.push(e)}}),t}(o,l));let u=[];l.forEach(r=>{let t=e[r];t&&u.push("grid-".concat(r,"-").concat(String(t)))});let d={root:["root",t&&"container",a&&"item",s&&"zeroMinWidth",...c,"row"!==n&&"direction-xs-".concat(String(n)),"wrap"!==i&&"wrap-xs-".concat(String(i)),...u]};return(0,x.A)(d,k,r)},q=a.forwardRef(function(e,r){let t=(0,v.A)({props:e,name:"MuiGrid"}),{breakpoints:o}=(0,b.A)(),i=(0,h.A)(t),{className:s,columns:l,columnSpacing:c,component:u="div",container:f=!1,direction:x="row",item:g=!1,rowSpacing:A,spacing:y=0,wrap:k="wrap",zeroMinWidth:S=!1}=i,j=(0,d.A)(i,N),W=A||y,E=c||y,q=a.useContext(w),T=f?l||12:q,R={},z=(0,p.A)({},j);o.keys.forEach(e=>{null!=j[e]&&(R[e]=j[e],delete z[e])});let L=(0,p.A)({},i,{columns:T,container:f,direction:x,item:g,rowSpacing:W,columnSpacing:E,wrap:k,zeroMinWidth:S,spacing:y},R,{breakpoints:o.keys}),I=M(L);return(0,n.jsx)(w.Provider,{value:T,children:(0,n.jsx)(C,(0,p.A)({ownerState:L,className:(0,m.A)(I.root,s),as:u,ref:r},z))})});var T=t(1634),R=t(5857),z=t(9571),L=t(6058),I=t(701);function B(e){return(0,y.Ay)("MuiLink",e)}let P=(0,A.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var D=t(9912),O=t(2282);let G={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},_=e=>G[e]||e,F=e=>{let{theme:r,ownerState:t}=e,n=_(t.color),a=(0,D.Yn)(r,"palette.".concat(n),!1)||t.color,o=(0,D.Yn)(r,"palette.".concat(n,"Channel"));return"vars"in r&&o?"rgba(".concat(o," / 0.4)"):(0,O.X4)(a,.4)},V=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Z=e=>{let{classes:r,component:t,focusVisible:n,underline:a}=e,o={root:["root","underline".concat((0,z.A)(a)),"button"===t&&"button",n&&"focusVisible"]};return(0,x.A)(o,B,r)},H=(0,g.Ay)(c.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r["underline".concat((0,z.A)(t.underline))],"button"===t.component&&r.button]}})(e=>{let{theme:r,ownerState:t}=e;return(0,p.A)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,p.A)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:F({theme:r,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(P.focusVisible)]:{outline:"auto"}})}),U=a.forwardRef(function(e,r){let t=(0,v.A)({props:e,name:"MuiLink"}),{className:o,color:i="primary",component:s="a",onBlur:l,onFocus:c,TypographyClasses:u,underline:f="always",variant:h="inherit",sx:x}=t,g=(0,d.A)(t,V),{isFocusVisibleRef:b,onBlur:w,onFocus:A,ref:y}=(0,L.A)(),[k,S]=a.useState(!1),j=(0,I.A)(r,y),N=(0,p.A)({},t,{color:i,component:s,focusVisible:k,underline:f,variant:h}),W=Z(N);return(0,n.jsx)(H,(0,p.A)({color:i,className:(0,m.A)(W.root,o),classes:u,component:s,onBlur:e=>{w(e),!1===b.current&&S(!1),l&&l(e)},onFocus:e=>{A(e),!0===b.current&&S(!0),c&&c(e)},ref:j,ownerState:N,variant:h,sx:[...Object.keys(G).includes(i)?[]:[{color:i}],...Array.isArray(x)?x:[x]]},g))});var Y=t(8508);let X=()=>{var e,r,t,d,p;let m=(0,o.useRouter)(),[f,h]=(0,a.useState)(""),{register:x,handleSubmit:g,watch:v,formState:{errors:b}}=(0,i.mN)(),w=v("password1"),A=async e=>{try{let r=await (0,Y.kz)(e.email,e.password1,e.password2);localStorage.setItem("token",r.access),m.push("/")}catch(e){var r,t;e instanceof Error&&(null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)?h(e.response.data.message):h("Registration failed")}};return(0,n.jsx)(s.A,{component:"main",maxWidth:"xs",children:(0,n.jsxs)(l.A,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(c.A,{component:"h1",variant:"h5",children:"Sign up"}),f&&(0,n.jsx)(u.A,{severity:"error",sx:{mt:2,width:"100%"},children:f}),(0,n.jsxs)(l.A,{component:"form",onSubmit:g(A),sx:{mt:3},children:[(0,n.jsxs)(q,{container:!0,spacing:2,children:[(0,n.jsx)(q,{item:!0,xs:12,sm:6,children:(0,n.jsx)(T.A,{autoComplete:"given-name",required:!0,fullWidth:!0,label:"First Name",...x("firstName",{required:"First name is required"}),error:!!b.firstName,helperText:null===(e=b.firstName)||void 0===e?void 0:e.message})}),(0,n.jsx)(q,{item:!0,xs:12,sm:6,children:(0,n.jsx)(T.A,{required:!0,fullWidth:!0,label:"Last Name",autoComplete:"family-name",...x("lastName",{required:"Last name is required"}),error:!!b.lastName,helperText:null===(r=b.lastName)||void 0===r?void 0:r.message})}),(0,n.jsx)(q,{item:!0,xs:12,children:(0,n.jsx)(T.A,{required:!0,fullWidth:!0,label:"Email Address",autoComplete:"email",...x("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),error:!!b.email,helperText:null===(t=b.email)||void 0===t?void 0:t.message})}),(0,n.jsx)(q,{item:!0,xs:12,children:(0,n.jsx)(T.A,{required:!0,fullWidth:!0,label:"Password",type:"password",...x("password1",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),error:!!b.password1,helperText:null===(d=b.password1)||void 0===d?void 0:d.message})}),(0,n.jsx)(q,{item:!0,xs:12,children:(0,n.jsx)(T.A,{required:!0,fullWidth:!0,label:"Confirm Password",type:"password",...x("password2",{required:"Please confirm your password",validate:e=>e===w||"Passwords do not match"}),error:!!b.password2,helperText:null===(p=b.password2)||void 0===p?void 0:p.message})})]}),(0,n.jsx)(R.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),(0,n.jsx)(q,{container:!0,justifyContent:"flex-end",children:(0,n.jsx)(q,{item:!0,children:(0,n.jsx)(U,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})})};var $=t(2815);let J=()=>(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)($.A,{}),children:(0,n.jsx)(X,{})})},8508:(e,r,t)=>{"use strict";t.d(r,{Be:()=>s,VM:()=>l,kz:()=>i});var n=t(3464);let a=n.A.create({baseURL:"http://localhost:8000",timeout:1e4}),o=e=>{e?a.defaults.headers.common.Authorization="Bearer ".concat(e):delete a.defaults.headers.common.Authorization},i=async(e,r,t)=>{try{let n=await a.post("/auth/registration/",{email:e,password1:r,password2:t});return n.data.access&&n.data.refresh&&(localStorage.setItem("token",n.data.access),localStorage.setItem("refreshToken",n.data.refresh),o(n.data.access)),n.data}catch(e){if(n.A.isAxiosError(e)){var i,s,l;throw console.error("Registration failed:",null===(i=e.response)||void 0===i?void 0:i.data),Error((null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.detail)||"Registration failed")}throw e}},s=async()=>{let e=localStorage.getItem("refreshToken");if(!e)return!1;try{let r=await a.post("/auth/token/refresh/",{refresh:e});if(r.data.access)return localStorage.setItem("token",r.data.access),o(r.data.access),!0;return!1}catch(e){return console.error("Token refresh failed:",e),!1}},l=async()=>{try{let e=localStorage.getItem("token");return e&&o(e),(await a.get("/profile/")).data}catch(r){if(console.error("Error fetching user profile:",r),n.A.isAxiosError(r)){var e;console.error("Axios Error:",r.message),console.error("Request Config:",r.config),console.error("Error Response:",null===(e=r.response)||void 0===e?void 0:e.data)}throw r}}},8731:(e,r,t)=>{Promise.resolve().then(t.bind(t,4713))}},e=>{var r=r=>e(e.s=r);e.O(0,[74,857,49,265,441,684,358],()=>r(8731)),_N_E=e.O()}]);