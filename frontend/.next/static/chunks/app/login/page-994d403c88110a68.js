(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1996:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var n=t(5155);t(2115);let a=()=>(0,n.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-4 border-blue-500 border-opacity-75"})})},4086:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>G});var n=t(5155),a=t(2115),i=t(6046),s=t(9606),o=t(2651),l=t(8612),c=t(6106),d=t(810),u=t(2512),m=t(3592),h=t(1032),f=t(2282),p=t(698),v=t(160),x=t(5407),A=t(3463),g=t(7123),k=t(1987),b=t(7410),y=t(9757),w=t(9142),S=t(1045),j=t(7157);function C(e){return(0,j.Ay)("MuiCircularProgress",e)}function P(){let e=(0,p._)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return P=function(){return e},e}function _(){let e=(0,p._)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]);return _=function(){return e},e}function N(){let e=(0,p._)(["\n      animation: "," 1.4s linear infinite;\n    "]);return N=function(){return e},e}function D(){let e=(0,p._)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]);return D=function(){return e},e}(0,S.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);let M=["className","color","disableShrink","size","style","thickness","value","variant"],I=e=>e,q,E,R,W,F=(0,k.i7)(q||(q=I(P()))),Z=(0,k.i7)(E||(E=I(_()))),z=e=>{let{classes:r,variant:t,color:n,disableShrink:a}=e,i={root:["root",t,"color".concat((0,b.A)(n))],svg:["svg"],circle:["circle","circle".concat((0,b.A)(t)),a&&"circleDisableShrink"]};return(0,g.A)(i,C,r)},H=(0,w.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r[t.variant],r["color".concat((0,b.A)(t.color))]]}})(e=>{let{ownerState:r,theme:t}=e;return(0,x.A)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})},e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,k.AH)(R||(R=I(N(),0)),F)}),O=(0,w.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),T=(0,w.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.circle,r["circle".concat((0,b.A)(t.variant))],t.disableShrink&&r.circleDisableShrink]}})(e=>{let{ownerState:r,theme:t}=e;return(0,x.A)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,k.AH)(W||(W=I(D(),0)),Z)}),B=a.forwardRef(function(e,r){let t=(0,y.A)({props:e,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:s=!1,size:o=40,style:l,thickness:c=3.6,value:d=0,variant:u="indeterminate"}=t,m=(0,v.A)(t,M),h=(0,x.A)({},t,{color:i,disableShrink:s,size:o,thickness:c,value:d,variant:u}),f=z(h),p={},g={},k={};if("determinate"===u){let e=2*Math.PI*((44-c)/2);p.strokeDasharray=e.toFixed(3),k["aria-valuenow"]=Math.round(d),p.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),g.transform="rotate(-90deg)"}return(0,n.jsx)(H,(0,x.A)({className:(0,A.A)(f.root,a),style:(0,x.A)({width:o,height:o},g,l),ownerState:h,ref:r,role:"progressbar"},k,m,{children:(0,n.jsx)(O,{className:f.svg,ownerState:h,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44),children:(0,n.jsx)(T,{className:f.circle,style:p,ownerState:h,cx:44,cy:44,r:(44-c)/2,fill:"none",strokeWidth:c})})}))}),L=()=>{var e,r;let t=(0,i.useRouter)(),[p,v]=(0,a.useState)(""),[x,A]=(0,a.useState)(!1),{register:g,handleSubmit:k,formState:{errors:b}}=(0,s.mN)(),y=async e=>{A(!0),v("");try{let r=await o.A.post("/api/login",e,{withCredentials:!0});r.data.token&&(localStorage.setItem("token",r.data.token),t.push("/"),t.refresh())}catch(e){if(o.A.isAxiosError(e)&&e.response){var r;v((null===(r=e.response.data)||void 0===r?void 0:r.message)||"An error occurred during login")}else v("An error occurred during login")}finally{A(!1)}};return(0,n.jsx)(l.A,{component:"main",maxWidth:"xs",children:(0,n.jsxs)(c.A,{elevation:3,sx:{mt:8,p:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(d.A,{component:"h1",variant:"h5",sx:{mb:3},children:"Sign In"}),p&&(0,n.jsx)(u.A,{severity:"error",sx:{width:"100%",mb:2},children:p}),(0,n.jsxs)(m.A,{component:"form",onSubmit:k(y),sx:{width:"100%"},children:[(0,n.jsx)(h.A,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",autoComplete:"email",autoFocus:!0,error:!!b.email,helperText:null===(e=b.email)||void 0===e?void 0:e.message,disabled:x,...g("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),(0,n.jsx)(h.A,{margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",type:"password",autoComplete:"current-password",error:!!b.password,helperText:null===(r=b.password)||void 0===r?void 0:r.message,disabled:x,...g("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}})}),(0,n.jsx)(f.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,height:48},disabled:x,children:x?(0,n.jsx)(B,{size:24,color:"inherit"}):"Sign In"})]})]})})};var $=t(1996);let G=()=>(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)($.A,{}),children:(0,n.jsx)(L,{})})},8066:(e,r,t)=>{Promise.resolve().then(t.bind(t,4086))}},e=>{var r=r=>e(e.s=r);e.O(0,[984,282,569,998,441,587,358],()=>r(8066)),_N_E=e.O()}]);